diff --git a/tmp/scratch3-qrcode/install.sh b/tmp/scratch3-qrcode/install.sh
index f353572..81cea01 100644
--- a/tmp/scratch3-qrcode/install.sh
+++ b/tmp/scratch3-qrcode/install.sh
@@ -7,6 +7,7 @@ EXTENSION_NAME="QR Code"
 EXTENSION_ID="qrcode"
 COLLABORATOR="Sugiura Lab"
 EXTENSION_DESCRIPTION="Scan QR Code.{credit_en}"
+EXTENSION_DIR=tmp/${REPOSITORY_NAME}
 
 cd node_modules/scratch-vm
 npm install encoding-japanese@1.0.30
@@ -15,17 +16,16 @@ cd ../../
 
 mkdir -p node_modules/scratch-vm/src/extensions/scratch3_${EXTENSION_ID}
 
-cp ${REPOSITORY_NAME}/scratch-vm/src/extensions/scratch3_${EXTENSION_ID}/index.js node_modules/scratch-vm/src/extensions/scratch3_${EXTENSION_ID}/
+cp ${EXTENSION_DIR}/scratch-vm/src/extensions/scratch3_${EXTENSION_ID}/index.js node_modules/scratch-vm/src/extensions/scratch3_${EXTENSION_ID}/
 
 mv node_modules/scratch-vm/src/extension-support/extension-manager.js node_modules/scratch-vm/src/extension-support/extension-manager.js_orig
 sed -e "s|class ExtensionManager {$|builtinExtensions['${EXTENSION_ID}'] = () => require('../extensions/scratch3_${EXTENSION_ID}');${LF}${LF}class ExtensionManager {|g" node_modules/scratch-vm/src/extension-support/extension-manager.js_orig > node_modules/scratch-vm/src/extension-support/extension-manager.js
 
-mkdir -p src/lib/libraries/extensions/${EXTENSION_ID}
-cp ${REPOSITORY_NAME}/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/${EXTENSION_ID}.png src/lib/libraries/extensions/${EXTENSION_ID}/
-cp ${REPOSITORY_NAME}/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/${EXTENSION_ID}-small.svg src/lib/libraries/extensions/${EXTENSION_ID}/
-mv src/lib/libraries/extensions/index.jsx src/lib/libraries/extensions/index.jsx_orig
-mv src/containers/extension-library.jsx src/containers/extension-library.jsx_orig
-cp ${REPOSITORY_NAME}/scratch-gui/src/containers/extension-library.jsx src/containers/extension-library.jsx
+mkdir -p node_modules/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}
+cp ${EXTENSION_DIR}/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/${EXTENSION_ID}.png node_modules/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/
+cp ${EXTENSION_DIR}/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/${EXTENSION_ID}-small.svg node_modules/scratch-gui/src/lib/libraries/extensions/${EXTENSION_ID}/
+mv node_modules/scratch-gui/src/lib/libraries/extensions/index.jsx node_modules/scratch-gui/src/lib/libraries/extensions/index.jsx_orig
+cp ${EXTENSION_DIR}/scratch-gui/src/containers/extension-library.jsx node_modules/scratch-gui/src/containers/extension-library.jsx
 DESCRIPTION="\
     {${LF}\
         name: (${LF}\
@@ -66,4 +66,4 @@ DESCRIPTION="\
           }${LF}\
         }${LF}\
     },"
-sed -e "s|^export default \[$|import ${EXTENSION_ID}IconURL from './${EXTENSION_ID}/${EXTENSION_ID}.png';${LF}import ${EXTENSION_ID}InsetIconURL from './${EXTENSION_ID}/${EXTENSION_ID}-small.svg';${LF}${LF}export default [${LF}${DESCRIPTION}|g" src/lib/libraries/extensions/index.jsx_orig > src/lib/libraries/extensions/index.jsx
+sed -e "s|^export default \[$|import ${EXTENSION_ID}IconURL from './${EXTENSION_ID}/${EXTENSION_ID}.png';${LF}import ${EXTENSION_ID}InsetIconURL from './${EXTENSION_ID}/${EXTENSION_ID}-small.svg';${LF}${LF}export default [${LF}${DESCRIPTION}|g" node_modules/scratch-gui/src/lib/libraries/extensions/index.jsx_orig > node_modules/scratch-gui/src/lib/libraries/extensions/index.jsx
